# Тесты для nmap_utils

## Описание

Эта папка содержит модульные тесты для проекта nmap_utils.

## Структура

- `test_yandex_disk.py` - тесты для модуля `tools/yandex_disk.py`

## Запуск тестов

### Через unittest (стандартная библиотека Python)

```bash
# Запуск всех тестов
python -m unittest discover tests -v

# Запуск конкретного файла тестов
python -m unittest tests.test_yandex_disk -v

# Запуск конкретного теста
python -m unittest tests.test_yandex_disk.TestGetTargetFolderPath.test_get_target_folder_path -v
```

## Покрытие тестами

### test_yandex_disk.py

Тесты покрывают все функции модуля `tools/yandex_disk.py`:

1. **get_target_folder_path()**
    - Тест с мокированной датой
    - Тест с реальной датой

2. **check_and_create_folder()**
    - Папка уже существует (200)
    - Создание новой папки (201)
    - Папка уже существует при создании (409)
    - Обработка исключений

3. **download_index_json()**
    - Успешное скачивание
    - Отсутствие URL для скачивания
    - HTTP ошибки
    - Обработка исключений

4. **upload_index_json()**
    - Успешная загрузка
    - Файл не существует
    - Отсутствие URL для загрузки
    - Ошибка загрузки (не 201 статус)
    - Обработка исключений

## Примечания

- Все тесты используют моки для HTTP запросов (requests)
- Файловые операции также мокируются
- Тесты не требуют реального подключения к Яндекс Диску
- Все тесты изолированы и не зависят друг от друга

